# https://github.com/dltn/dotfiles/blob/master/.tmux.conf

# - Rebind <PRE> to Ctrl+A (instead of Ctrl+B). This is a mildly contentious choice (screen/emacs),
#   but I like that it keeps your fingers near home row alongside a Caps Lock â†’ Esc/Ctrl remap.
set -g prefix C-a

set -g mouse on # enable mouse mode (tmux 2.1+)
set -g base-index 1 # start windows at 1 since QWERTY is 1234...0
set -g escape-time 0 # No delay for escape key
set -g history-limit 10000 # Bigger scrollback
set -g renumber-windows on # automatically renumber windows when one is closed
set -g -w pane-base-index 1 # same as above, for panes
set -g -w mode-keys vi # navigate tmux using vim bindings

# - Remap pane splits to more mnemonic shortcuts (https://hamvocke.com/blog/a-guide-to-customizing-your-tmux-conf)
bind | split-window -h -c "#{pane_current_path}" # use '<PRE>|' to split a pane vertically
bind - split-window -v -c "#{pane_current_path}" # use '<PRE>-' to split a pane horizontally

bind -T copy-mode-vi 'v' send -X begin-selection
bind -T copy-mode-vi 'y' send -X copy-selection-and-cancel

# - Responsive status bar: shorten window names and drop date when terminal is narrow (< 80 cols)
set -g status-right '#{?#{e|<:#{client_width},80}, %H:%M , "#{=21:pane_title}" %H:%M %d-%b-%y}'
set -g window-status-format '#{?#{e|<:#{client_width},80},#I:#{=3:window_name}#{window_flags} ,#I:#W#{?window_flags,#{window_flags}, }}'
set -g window-status-current-format '#{?#{e|<:#{client_width},80},#I:#{=3:window_name}#{window_flags} ,#I:#W#{?window_flags,#{window_flags}, }}'
